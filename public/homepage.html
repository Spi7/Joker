<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dou Dizhu Lobby</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/homepage.css') }}" />
  <script src="{{ url_for('static', filename='js/homepage.js') }}" defer></script>
</head>
<body>

  <!-- ğŸ”Š Music -->
  <audio id="bg-music" loop autoplay>
    <source src="{{ url_for('static', filename='audio/lobby.mp3') }}" type="audio/mpeg" />
  </audio>
  <button id="music-toggle" onclick="toggleMusic()" class="music-toggle">
    ğŸµ Music On
  </button>

  <!-- ğŸ´ Title -->
  <h1 class="game-title">ï¼¤ï½ï½•ã€€ï¼¤ï½‰ï½šï½ˆï½• ğŸ´</h1>

  <!-- ğŸ® Buttons -->
  <div class="button-row single-center">
    <a href="/create-room" class="jelly-button green large-btn">â• Create Room</a>
  </div>  

  <!-- ğŸ“‹ Room List -->
  <div class="room-list">
    <h2>Available Rooms</h2>
    <div class="room-scroll">
      {% for room in rooms %}
        <div class="room-card">
          <div class="room-info">
            <p class="room-name">Room {{ room.id }}</p>
            <p class="room-players">Players: {{ room.players | length }}/3</p>
          </div>
          <a href="/join-room/{{ room.id }}" class="join-btn">Join</a>
        </div>
      {% endfor %}
      {% if rooms|length == 0 %}
        <p class="no-room">No rooms available. Be the first to create one!</p>
      {% endif %}
    </div>
  </div>

</body>
</html>
